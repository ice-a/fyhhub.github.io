(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{516:function(t,e,s){"use strict";s.r(e);var a=s(11),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"v-model原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-model原理"}},[t._v("#")]),t._v(" v-model原理")]),t._v(" "),s("h2",{attrs:{id:"核心答案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心答案"}},[t._v("#")]),t._v(" 核心答案")]),t._v(" "),s("p",[t._v("v-model最终会被模板编译成"),s("code",[t._v("value")]),t._v("和"),s("code",[t._v("input事件")]),t._v("(输入框)，如果是"),s("code",[t._v("checkbox")]),t._v("会被编译为"),s("code",[t._v("checked")]),t._v("和"),s("code",[t._v("change事件")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"_c('input',{directives:[{name:\"")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('",rawName:"')]),t._v("v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('",value:(message),expression:"')]),t._v("message"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}],attrs:{"')]),t._v("type"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"},domProps:{"')]),t._v("value"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":(message)},on:{"')]),t._v("input"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":function($event){if($event.target.composing)return;message=$event.target.value}}})"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"补充回答"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充回答"}},[t._v("#")]),t._v(" 补充回答")]),t._v(" "),s("p",[t._v("然而v-model仅仅是起到合并语法，创建一个新的语法糖的意义吗？ 显然答案是否定的，对于需要使用输入法 (如中文、日文、韩文等) 的语言，会发现 v-model 不会在输入法组合文字过程中得到更新。这就是v-model的一个重要的特点。它会在事件处理这一层添加新的事件监听compositionstart,compositionend，他们会分别在语言输入的开始和结束时监听到变化，只要借助$event.target.composing，就可以设计出只会在输入法组合文字的结束阶段才更新数据，这有利于提高用户的使用体验。这一部分我想借助脱离框架的表单来帮助理解。")]),t._v(" "),s("p",[t._v("一句话："),s("strong",[t._v("优化点，事件用$event.target.composing属性来保证不会在输入法组合文字过程中更新数据")])])])}),[],!1,null,null,null);e.default=n.exports}}]);